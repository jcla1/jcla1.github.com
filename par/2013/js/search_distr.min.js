d3.csv("data/search_distr.csv",function(k,g){var d=d=d3.time.format("%H:%M"),b=g.map(function(a){return parseInt(a.date)%86400}),c=d3.scale.linear().domain([0,86400]).range([0,320]),b=d3.layout.histogram().bins(c.ticks(60))(b),h=d3.svg.axis().scale(c).tickValues([0,21600,43200,64800,86400]).orient("bottom").tickFormat(function(a){return d(new Date(1E3*a-36E5*(new Date(0)).getHours()))}),e=d3.scale.linear().domain([0,d3.max(b,function(a){return a.y})]).range([110,0]),f=d3.select("#search_distr").append("svg").attr("width",
360).attr("height",170).append("g").attr("transform","translate(20,20)");f.selectAll(".bar").data(b).enter().append("g").attr("class","bar").attr("transform",function(a){return"translate("+c(a.x)+","+e(a.y)+")"}).append("rect").attr("x",0).attr("width",c(b[0].dx)-1).attr("height",function(a){return 110-e(a.y)});f.append("g").attr("class","x axis").attr("transform","translate(0,110)").call(h)});