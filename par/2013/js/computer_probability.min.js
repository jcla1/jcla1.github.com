d3.csv("data/computer_probability.csv",function(l,d){var e=[0,7200,14400,21600,28800,36E3,43200,50400,57600,64800,72E3,79200,86400],f=f=d3.time.format("%H:%M"),c=d3.scale.linear().domain([0,86400]).range([0,710]),b=d3.svg.axis().scale(c).tickValues(e).orient("bottom").tickFormat(function(a){return f(new Date(1E3*a-36E5*(new Date(0)).getHours()))}),g=d3.scale.linear().domain([0,d3.max(d,function(a){return parseInt(a.occ)})]).range([110,0]),a=d3.select("#computer_probability").append("svg").attr("width",
750).attr("height",170).append("g").attr("transform","translate(20,20)"),h=d3.svg.line().interpolate("basis").x(function(a){return c(parseInt(a.timestart))}).y(function(a){return g(parseInt(a.occ))}),k=d3.svg.area().interpolate("basis").y0(110).x(function(a){return c(parseInt(a.timestart))}).y1(function(a){return g(parseInt(a.occ))});a.append("path").datum(d).attr("class","area").attr("d",k);a.append("path").datum(d).attr("class","line").attr("d",h);a.append("g").attr("class","x axis").attr("transform",
"translate(0,110)").call(b);a.append("rect").attr("width",710).attr("height",110).style("fill","transparent");a.append("line").attr({"class":"ruler",y1:-20,y2:110});a.on("mouseenter",function(){a.selectAll(".ruler").style("display","inherit")});a.on("mouseleave",function(){a.selectAll(".ruler").style("display","none");b.tickValues(e);a.selectAll(".x.axis").call(b)});a.on("mousemove",function(){a.selectAll(".ruler").attr({x1:d3.mouse(this)[0]-1,x2:d3.mouse(this)[0]-1});b.tickValues([~~c.invert(d3.mouse(this)[0])]);
a.selectAll(".x.axis").call(b)})});