<!DOCTYPE html>
<!--[if lt IE 7]> <html class="lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html">
  <meta name="google-site-verification" content="xLdL56j0SwgMQ_zaX9jYVsRdm4THscM3NFAYIRhuVdg" />
  <link href="http://jcla1.com/rss.xml" rel="alternate" title="jcla1.com" type="application/atom+xml" />

	
  <title>Web Audio API overview (Part 2 of 2)</title>
	<meta name="description" content="A blog about tech.">
  <meta name="author" content="Joseph Adams">

  <link rel="stylesheet" href="/css/main.css" type="text/css" media="screen, projection" />
	
</head>
<body>

<div class="site">
  <div class="title">
    <a href="/">Joseph Adams</a>
    <a class="extra" href="/">home</a>
    <a class="extra" href="/about/">about</a>
    <!--a class="extra" href="/about/">about</a-->
  </div>
  
  <div id="post">
<h1 id='web_audio_api_overview_part_2_of_2'>Web Audio API overview (Part 2 of 2)</h1>

<p class='meta'> 06 Apr 2012 - Manchester, England</p>

<p>In the <a href='/blog/2012/03/11/web-audio-api-overview-part1/'>first part</a>, we looked at the basics of the Web Audio API and using it to visualize music. In this second part I&#8217;ll be showing you how to implement a LowPass Filter and gain control in our example from the first part. We&#8217;ll add some colour to it too.</p>

<p>Let&#8217;s start with the easiest bit, the color. To change the color of the bars, all you need to do is change <code>ctx.fillStyle = "white";</code> to whatever color. If you&#8217;re like me, you won&#8217;t like single color bars. I think those bars deserve a nice rainbow gradient. This is done very easily:</p>
<script src='https://gist.github.com/2015620.js?file=gradient.js'>
</script>
<p>And that&#8217;s it now we&#8217;ve a nice gradient.</p>

<p>Next up, gain. You can create one just like an analyser:</p>
<script src='https://gist.github.com/2015620.js?file=gain_create.js'>
</script>
<p>Now we have a <code>GainNode</code>, but no way for the user to interact with it.</p>

<p>To give the user some control over the gain, we&#8217;ll have a well-known input. <script src='https://gist.github.com/2015620.js?file=gain.html'>
</script></p>

<p>The reason it has a max value of 1 is that the <code>GainNode</code> by default sets this value (It is possible to change this). Of course an input alone doesn&#8217;t do anything. We&#8217;ll add an event listener to it:</p>
<script src='https://gist.github.com/2015620.js?file=gain_listener.js'>
</script>
<p>This snippet sets <code>gain.gain.value</code> to the value on the input. And that is all there is to it.</p>

<p>Adding a LowPass filter is the same procedure.</p>

<ol>
<li>Add an input box.</li>

<li>Create the LowPass filter in Javascript.</li>

<li>Add a binding between input and LowPass filter</li>
</ol>

<p>Here is the source code:</p>
<script src='https://gist.github.com/2015620.js?file=filter.html'>
</script>
<p>In this short series I have demonstrated how easy it is to work with the Web Audio API. You now know how to create Audio nodes and change their effect on audio.</p>
<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>15 Jun 2012</span> &raquo; <a href="/blog/2012/06/15/getting-to-work-with-codemirror">Getting to work with CodeMirror</a></li>
    
      <li><span>11 Mar 2012</span> &raquo; <a href="/blog/2012/03/11/web-audio-api-overview-part1">Web Audio API overview (Part 1 of 2)</a></li>
    
      <li><span>08 Jan 2012</span> &raquo; <a href="/blog/2012/01/08/exploring-the-v8-js-engine-part-2">Exploring the V8 JS engine (Part 2 of 2)</a></li>
    
  </ul>
</div>
  
  <div class="footer">
    <div class="contact">
      <p>
        Joseph Adams<br />
        <a href="mailto:whitegolem@gmail.com">whitegolem@gmail.com</a><br />
        <a href="http://jcla1.com">jcla1.com</a>
      </p>
    </div>
    <div class="contact">
      <p>
        <a href="http://github.com/jcla1/"><img src="/img/github_32.png"></img></a>
        <a href="http://twitter.com/jcla1/"><img src="/img/twitter_32.png"></img></a>
        <a href="https://plus.google.com/109982208260057168917/posts"><img src="/img/google_32.png"></a>
      </p>
    </div>
    <div class="rss">
      <a href="http://jcla1.com/rss.xml">
        <img src="/img/rss_32.png" alt="Subscribe to RSS Feed" />
      </a>
    </div>
  </div>
</div>

<script>
    var _gaq=[['_setAccount','UA-12395541-8'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>
